<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Floowbooru: The Better Booru</title>

<style>
   body, div, h1, h2, h3, h4, h5, h6, img, a, p {
      margin: 0;
      padding: 0;
      border: 0;
   }

   body {
      background: #262B2C;
      color: #D8D8D8;
      font-family: "Lucida Console", Monaco, monospace;
   }
   
   #header {
      background: #262B2C;
      z-index: 7;
      padding-bottom: 10px;
   }
   
   #results-container {
      text-align: center;
      position: absolute;
      overflow: scroll;
      top: 0;
      bottom: 0;
      padding: 10px;
      z-index: -1;
   }

   #results-container img {
      padding: 0;
      margin: 5px;
      height: 200px;
   }

   #selection-overlay {
      display: none;
      position: absolute;
      top: 0; 
      width: 100%;
      height: 100%;

      background: rgba(38, 43, 44, 0.5);
      z-index: 10;
   }

   #selection-container {
      width: 100%;
      position: absolute;
      top: 10%;
      background: #262B2C;
      text-align: center;
      padding: 10px;
   }

   #selection-overlay-image {

   }

</style>

<script>
   function searchForTerm(term) {
      var ii;
      var img;

      // clear number of results, replace with correct number
      document.getElementById("number-of-results").innerHTML = "";
      if (term != '') {
         document.getElementById("number-of-results").innerHTML = "10,000 results for \"" + term + "\"";
      }
      
      createSearchBarOffset();

      // insert search results
      for (ii = 1; ii < 99; ++ii) {
         img = document.createElement('img');
         if (ii < 10) {
            img.id = "img0" + ii;
         }
         else {
            img.id = "img" + ii;
         }
         img.src = "../imgs/" + img.id + ".jpg";
         img.alt = "Unable to load image.";
         img.onclick = function() {displayImageOverlay(this.id);};
         document.getElementById("results-container").appendChild(img);
      }  
   }

   function init() {
      createSearchBarOffset();
      searchForTerm('');
   }

   function displayImageOverlay(imageId) {
      var img = document.getElementById("selection-overlay-image").src = "../imgs/" + imageId + ".jpg";
      document.getElementById("selection-overlay").style.display = 'block';
   }
   
   function hideImageOverlay() {
      document.getElementById("selection-overlay").style.display = 'none';
   } 

   function createSearchBarOffset() {
      var height;
      height = document.getElementById("header").offsetHeight;
      document.getElementById("offset").style.height = height + "px";
   }

</script>
</head>

<body onload="init()">

<div id="header">
   <h3>Floowbooru: The Better Booru!</h3>
   <div id="searchbar">
      <form onSubmit="searchForTerm(this.searchbox.value); return false">
         <input id="searchbox" size=80 placeholder="What are you looking for?"> 
         <input type="checkbox" id="nsfw">NSFW
      </form>
      <p id="number-of-results"></p>
   </div>
</div>

<div id="results-container">
   <div id="offset"></div>
</div>

<div id="selection-overlay">
   <div id="selection-container">
         <img id="selection-overlay-image" src="../imgs/sample.jpg" alt="Unable to load image." />
         <button onclick=hideImageOverlay();>Hide Overlay</button>
   </div>
</div>
</body>
</html>
